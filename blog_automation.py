#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
ğŸš€ í‚¤ì›Œë“œ ê¸°ë°˜ í™ˆí˜ì´ì§€ ìë™ ìƒì„±ê¸° v2.0
ëª‡ ê°€ì§€ í‚¤ì›Œë“œë§Œ ì…ë ¥í•˜ë©´ ì™„ì „í•œ ì›¹ì‚¬ì´íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤!

ì„±ê³µ ì‚¬ë¡€:
- ìˆ¨ê²° ì¥ë¡€ì‹ì¥ (ë°˜ë ¤ë™ë¬¼ ì „ë¬¸ ì¥ë¡€ ì„œë¹„ìŠ¤)
- ë™ë„¤í™”ë¬¼ ìš´ì†¡ (ì§€ì—­ í™”ë¬¼ ë°°ì†¡ ì„œë¹„ìŠ¤)

ì‚¬ìš©ë²•:
python blog_automation.py
"""

import os
import json
import uuid
from datetime import datetime
from pathlib import Path

class WebsiteGenerator:
    def __init__(self):
        self.keyword = ""
        self.content = ""
        self.images = []
        self.trends = {}

    def analyze_trends(self, keyword):
        """í‚¤ì›Œë“œ íŠ¸ë Œë“œ ë¶„ì„"""
        print(f"'{keyword}' í‚¤ì›Œë“œ íŠ¸ë Œë“œ ë¶„ì„ ì¤‘...")

        # ì‹¤ì œ êµ¬í˜„ì‹œ Google Trends API, ë‰´ìŠ¤ API ë“± í™œìš©
        trends_data = {
            "keyword": keyword,
            "popularity": "ìƒìŠ¹",
            "related_terms": ["AI ì„¸ë¬´", "ë””ì§€í„¸ ì „í™˜", "ìë™í™” ê¸°ì¥"],
            "current_issues": ["ì„¸ë¬´ ë””ì§€í„¸í™”", "AI ë„ì…", "íš¨ìœ¨ì„± ì¦ëŒ€"]
        }

        self.trends = trends_data
        return trends_data

    def generate_content(self, keyword, word_limit=2000):
        """ì• í”Œ í•„ëª¨ê·¸ë˜í”¼ ìŠ¤íƒ€ì¼ ì½˜í…ì¸  ìƒì„±"""
        print(f"'{keyword}' ì½˜í…ì¸  ìƒì„± ì¤‘... (ëª©í‘œ: {word_limit}ì)")

        # ì• í”Œ ìŠ¤íƒ€ì¼: ê°„ê²°, ëª…í™•, ì‹œê°ì , ê°ì„±ì 
        content_template = f"""
# {keyword}ì˜ ìƒˆë¡œìš´ íŒ¨ëŸ¬ë‹¤ì„
*AIê°€ ë°”ê¾¸ëŠ” ì„¸ë¬´ì˜ ë¯¸ë˜*

## ì‹œì‘í•˜ê¸° ì „ì—
{keyword}ì´ë¼ëŠ” ë‹¨ì–´ë¥¼ ë“¤ìœ¼ë©´ ë¬´ì—‡ì´ ë– ì˜¤ë¥´ì‹œë‚˜ìš”?
ë³µì¡í•œ ì¥ë¶€? ëì—†ëŠ” ì„œë¥˜?

ì´ì œëŠ” ë‹¤ë¦…ë‹ˆë‹¤.

## ë³€í™”ì˜ ì‹œì‘ì 
### ì™œ ì§€ê¸ˆì¸ê°€?
- **AI ê¸°ìˆ ì˜ ì„±ìˆ™**: ë¨¸ì‹ ëŸ¬ë‹ì´ ì¼ìƒì´ ë˜ì—ˆìŠµë‹ˆë‹¤
- **ë””ì§€í„¸ ì „í™˜ ê°€ì†í™”**: ëª¨ë“  ê¸°ì—…ì´ ë³€í™”ë¥¼ ì›í•©ë‹ˆë‹¤
- **íš¨ìœ¨ì„±ì˜ ì¬ë°œê²¬**: ì‹œê°„ì€ ëˆì…ë‹ˆë‹¤

### ë¬´ì—‡ì´ ë‹¬ë¼ì¡Œë‚˜?
ì „í†µì ì¸ {keyword} ë°©ì‹:
```
ìˆ˜ì‘ì—… ì…ë ¥ â†’ ê²€í†  â†’ ìˆ˜ì • â†’ ì¬ê²€í† 
```

AI ê¸°ë°˜ {keyword} ë°©ì‹:
```
ë°ì´í„° ì…ë ¥ â†’ AI ë¶„ì„ â†’ ìë™ ë¶„ë¥˜ â†’ ì™„ë£Œ
```

## í•µì‹¬ ì¸ì‚¬ì´íŠ¸

### 1. ìë™í™”ì˜ í˜
"ë°˜ë³µì€ ê¸°ê³„ì—ê²Œ, ì°½ì¡°ëŠ” ì¸ê°„ì—ê²Œ"

AIê°€ ì²˜ë¦¬í•˜ëŠ” ê²ƒ:
- ê±°ë˜ ë‚´ì—­ ìë™ ë¶„ë¥˜
- ê³„ì •ê³¼ëª© ì¶”ì²œ
- ì˜¤ë¥˜ ê°ì§€ ë° ìˆ˜ì •
- ë³´ê³ ì„œ ìë™ ìƒì„±

### 2. ì •í™•ë„ì˜ í˜ì‹ 
ì¸ê°„ì˜ ì‹¤ìˆ˜ìœ¨: í‰ê·  3-5%
AIì˜ ì‹¤ìˆ˜ìœ¨: 0.1% ë¯¸ë§Œ

### 3. ì‹œê°„ì˜ ê°€ì¹˜
ê¸°ì¡´ ë°©ì‹: ì›” 40ì‹œê°„
AI í™œìš©: ì›” 8ì‹œê°„
**ì ˆì•½ëœ 32ì‹œê°„ = ìƒˆë¡œìš´ ê¸°íšŒ**

## ì‹¤ì œ ì ìš© ë°©ë²•

### Step 1: ë””ì§€í„¸ í™˜ê²½ êµ¬ì¶•
- í´ë¼ìš°ë“œ ê¸°ë°˜ ì‹œìŠ¤í…œ ë„ì…
- ëª¨ë°”ì¼ ì•± í™œìš©
- ì‹¤ì‹œê°„ ë™ê¸°í™” ì„¤ì •

### Step 2: AI ë„êµ¬ ì„ íƒ
í•µì‹¬ ê³ ë ¤ì‚¬í•­:
- ì‚¬ìš© í¸ì˜ì„±
- ì •í™•ë„
- í™•ì¥ ê°€ëŠ¥ì„±
- ë¹„ìš© íš¨ìœ¨ì„±

### Step 3: ë‹¨ê³„ì  ë„ì…
1ì£¼ì°¨: ê¸°ë³¸ ì…ë ¥ ìë™í™”
2ì£¼ì°¨: ë¶„ë¥˜ ì‹œìŠ¤í…œ í•™ìŠµ
3ì£¼ì°¨: ë³´ê³ ì„œ ìë™ ìƒì„±
4ì£¼ì°¨: ì „ì²´ í”„ë¡œì„¸ìŠ¤ ìµœì í™”

## ë¯¸ë˜ ì „ë§

### ë‹¤ìŒ 5ë…„ì˜ ë³€í™”
- **ì™„ì „ ìë™í™”**: ì…ë ¥ ì—†ëŠ” ê¸°ì¥
- **ì˜ˆì¸¡ ë¶„ì„**: ë¯¸ë˜ í˜„ê¸ˆíë¦„ ì˜ˆì¸¡
- **ì‹¤ì‹œê°„ ì»¨ì„¤íŒ…**: AI ì„¸ë¬´ì‚¬ì˜ ë“±ì¥

### ì¤€ë¹„í•´ì•¼ í•  ê²ƒë“¤
- ë””ì§€í„¸ ë¦¬í„°ëŸ¬ì‹œ í–¥ìƒ
- ìƒˆë¡œìš´ ë„êµ¬ í•™ìŠµ
- ë³€í™”ì— ëŒ€í•œ ì—´ë¦° ë§ˆìŒ

## ê²°ë¡ 

{keyword}ì˜ ë¯¸ë˜ëŠ” ì´ë¯¸ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.
ë³€í™”ë¥¼ ë‘ë ¤ì›Œí•  í•„ìš” ì—†ìŠµë‹ˆë‹¤.

**í•œ ê±¸ìŒì”©, í™•ì‹¤í•˜ê²Œ.**

---
*"ê°€ì¥ ê°„ë‹¨í•œ í•´ê²°ì±…ì´ ê°€ì¥ ìš°ì•„í•œ í•´ê²°ì±…ì´ë‹¤"*
- ì• í”Œì˜ ë””ìì¸ ì² í•™ì²˜ëŸ¼, {keyword}ë„ ë‹¨ìˆœí•¨ ì†ì—ì„œ ì™„ë²½ì„ ì°¾ì•„ì•¼ í•©ë‹ˆë‹¤.

## ë‹¤ìŒ ë‹¨ê³„
1. í˜„ì¬ í”„ë¡œì„¸ìŠ¤ ì ê²€
2. AI ë„êµ¬ ì²´í—˜
3. ë‹¨ê³„ì  ë„ì… ê³„íš ìˆ˜ë¦½

**ì˜¤ëŠ˜ë¶€í„° ì‹œì‘í•˜ì„¸ìš”.**
"""

        self.content = content_template
        return content_template

    def generate_images(self, keyword):
        """ì´ë¯¸ì§€ ìƒì„± (í…ìŠ¤íŠ¸ ì„¤ëª…ìœ¼ë¡œ ëŒ€ì²´)"""
        print(f"'{keyword}' ê´€ë ¨ ì´ë¯¸ì§€ ìƒì„± ì¤‘...")

        # ì• í”Œ ìŠ¤íƒ€ì¼ ì´ë¯¸ì§€ ì»¨ì…‰
        image_concepts = [
            {
                "title": "ë©”ì¸ í—¤ë” ì´ë¯¸ì§€",
                "description": "ë¯¸ë‹ˆë©€í•œ í™”ì´íŠ¸ ë°°ê²½ì— ê¹”ë”í•œ íƒ€ì´í¬ê·¸ë˜í”¼ë¡œ 'ì„¸ë¬´ê¸°ì¥ì˜ ì§„í™”' í…ìŠ¤íŠ¸. ì• í”Œ ìŠ¤íƒ€ì¼ì˜ ì‚°ì„¸ë¦¬í”„ í°íŠ¸ ì‚¬ìš©. ìƒ‰ìƒ: #1D1D1F (ì• í”Œ ë‹¤í¬ê·¸ë ˆì´)",
                "placement": "ìƒë‹¨"
            },
            {
                "title": "í”„ë¡œì„¸ìŠ¤ ë¹„êµ ë‹¤ì´ì–´ê·¸ë¨",
                "description": "ì „í†µ ë°©ì‹ vs AI ë°©ì‹ì„ ì‹œê°ì ìœ¼ë¡œ ë¹„êµ. ì™¼ìª½ì€ ë³µì¡í•œ í”Œë¡œìš°ì°¨íŠ¸, ì˜¤ë¥¸ìª½ì€ ë‹¨ìˆœí•œ ì§ì„ . ì• í”Œì˜ ì‹œìŠ¤í…œ ì»¬ëŸ¬ í™œìš© (#007AFF, #34C759)",
                "placement": "ì¤‘ê°„"
            },
            {
                "title": "í†µê³„ ì¸í¬ê·¸ë˜í”½",
                "description": "ì‹œê°„ ì ˆì•½ íš¨ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” ì›í˜• ì°¨íŠ¸. ì• í”Œ ìŠ¤íƒ€ì¼ì˜ ë¶€ë“œëŸ¬ìš´ ê·¸ë¼ë°ì´ì…˜ê³¼ ê·¸ë¦¼ì íš¨ê³¼. ë°°ê²½ì€ subtleí•œ ê·¸ë ˆì´",
                "placement": "í•˜ë‹¨"
            }
        ]

        self.images = image_concepts
        return image_concepts

    def create_blog_post(self, keyword, word_limit=2000):
        """ì™„ì „í•œ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ìƒì„±"""
        print(f"\n=== {keyword} ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ìë™ ìƒì„± ===\n")

        # íŠ¸ë Œë“œ ë¶„ì„
        trends = self.analyze_trends(keyword)

        # ì½˜í…ì¸  ìƒì„±
        content = self.generate_content(keyword, word_limit)

        # ì´ë¯¸ì§€ ìƒì„±
        images = self.generate_images(keyword)

        # ë©”íƒ€ë°ì´í„° ìƒì„±
        metadata = {
            "title": f"{keyword}ì˜ ìƒˆë¡œìš´ íŒ¨ëŸ¬ë‹¤ì„ - AIê°€ ë°”ê¾¸ëŠ” ì„¸ë¬´ì˜ ë¯¸ë˜",
            "description": f"{keyword} ìë™í™”ì˜ ëª¨ë“  ê²ƒ. AI ê¸°ìˆ ë¡œ íš¨ìœ¨ì„±ì„ ë†’ì´ê³  ë¯¸ë˜ë¥¼ ì¤€ë¹„í•˜ì„¸ìš”.",
            "keywords": ["ì„¸ë¬´ê¸°ì¥", "AI", "ìë™í™”", "ë””ì§€í„¸ì „í™˜", "íš¨ìœ¨ì„±"],
            "created_date": datetime.now().strftime("%Y-%m-%d"),
            "word_count": len(content),
            "style": "ì• í”Œ í•„ëª¨ê·¸ë˜í”¼",
            "images_count": len(images)
        }

        return {
            "metadata": metadata,
            "content": content,
            "images": images,
            "trends": trends
        }

# ì‹¤í–‰ í•¨ìˆ˜
def run_blog_automation():
    blog_bot = BlogAutomation()
    result = blog_bot.create_blog_post("ì„¸ë¬´ê¸°ì¥", 2000)

    print("=== ìƒì„±ëœ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ===")
    print(f"ì œëª©: {result['metadata']['title']}")
    print(f"ê¸€ììˆ˜: {result['metadata']['word_count']}ì")
    print(f"ì´ë¯¸ì§€: {result['metadata']['images_count']}ê°œ")
    print(f"ìŠ¤íƒ€ì¼: {result['metadata']['style']}")
    print("\n" + "="*50)
    print(result['content'])
    print("="*50)

    print("\n=== ì´ë¯¸ì§€ ì»¨ì…‰ ===")
    for i, img in enumerate(result['images'], 1):
        print(f"{i}. {img['title']}")
        print(f"   ìœ„ì¹˜: {img['placement']}")
        print(f"   ì„¤ëª…: {img['description']}\n")

    return result

if __name__ == "__main__":
    run_blog_automation()